{% extends 'base.html' %}
{% load data_table_filters %}
{% block content %}
<div class="container-fluid">
  <div class="row">
      <div class="col-md-12">
        <h2 id="id_montrek_table_title"> {{ title }}</h2>
      </div>
  </div>
  <div class="row">
      <div class="col-md-8">
          <div class="container-fluid">
            <form method="get" class="form-inline">
              {% for filter_form in filter_forms %}
              <div class="col-md-12">
                    <div class="form-group mr-2">
                      {{ filter_form.filter_field }}
                    </div>
                    <div class="form-group mr-2">
                      {{ filter_form.filter_negate }}
                    </div>
                    <div class="form-group mr-2">
                      {{ filter_form.filter_lookup }}
                    </div>
                    <div class="form-group mr-2">
                      {{ filter_form.filter_value }}
                    </div>
              </div>
              {% endfor %}
              <input type="hidden" name="action" id="form-action" value="">
                <button type="submit" onclick="document.getElementById('form-action').value='filter'" class="btn btn-primary mr-2"title="Apply Filter">Filter</button>
                <button type="submit" onclick="document.getElementById('form-action').value='reset'" class="btn" title="Reset Filter">Reset</button>
                <button type="submit" onclick="document.getElementById('form-action').value='add_filter'" class="btn" title="Add filter">
                  <span class="glyphicon glyphicon-plus"</span>
                </button>
            </form>
          </div>
      </div>
      <div class="col-md-4 text-right">
          <div class="btn-group">
              <form action="" method="get" style="display: inline-block;">
                <input type="hidden" name="gen_csv" value="true" />
                <button type="submit" class="btn btn-default" title="Export to csv"><span class="glyphicon glyphicon-download"</span></button>
              </form>
              <form action="" method="get" style="display: inline-block;">
                <input type="hidden" name="gen_excel" value="true" />
                <button type="submit" class="btn btn-default" title="Export to Excel"><span class="glyphicon glyphicon-download-alt"</span></button>
              </form>
              <form action="" method="get" style="display: inline-block;">
                <input type="hidden" name="gen_pdf" value="true" />
                <button type="submit" class="btn btn-default" title="Export to pdf"><span class="glyphicon glyphicon-file"</span></button>
              </form>
          </div>
      </div>
  </div>
  <div class="row">
    {{ table|safe }}
  </div>
  <div class="row">
    <div class="col-md-10">
      {% if paginator.show_paginator %}
        <div class="pagination">
          <span class="step-links">
            {% if paginator.has_previous %}
              <a href="?page=1" class="btn-light"><span class="glyphicon glyphicon-fast-backward"/></a>
              <a href="?page={{ paginator.previous_page_number }}" class="btn-light"><span class="glyphicon glyphicon-step-backward"/></a>
            {% endif %}
            <span class="current">
              Page {{ paginator.number }}
              {% if is_large %}
              {% else %}
                of {{ paginator.num_pages }}.
              {% endif %}
            </span>
            {% if paginator.has_next %}
                <a href="?page={{ paginator.next_page_number }}" class="btn-light"><span class="glyphicon glyphicon-step-forward"/></a>
                {% if is_large %}
                {% else %}
                  <a href="?page={{ paginator.num_pages }}" class="btn-light"><span class="glyphicon glyphicon-fast-forward"/></a>
                {% endif %}
            {% endif %}
          </span>
        </div>
      {% endif %}
    </div>
    <div class="col-md-2">
      <div class="container-fluid">
        <div class="row">
          <div class="col-md-4">
            <div class="pagination">
                {% if is_compact_format %}
                  <form>
                      <input type="hidden" name="action" id="form-is_compact_format-action" value="">
                        <button type="submit" onclick="document.getElementById('form-is_compact_format-action').value='is_compact_format_false'" class="btn-light" title="Switch to Large Table format"><span class="glyphicon glyphicon-resize-full"/></button>
                      </input>
                  </form>
                {% else %}
                  <form>
                      <input type="hidden" name="action" id="form-is_compact_format-action" value="">
                        <button type="submit" onclick="document.getElementById('form-is_compact_format-action').value='is_compact_format_true'" class="btn-light" title="Switch to Small Table format"><span class="glyphicon glyphicon-resize-small"/></button>
                      </input>
                  </form>
                {% endif %}
            </div>
          </div>
          <div class="col-md-4">
            <div class="pagination">
                {{ paginate_by }}/Page
            </div>
          </div>
          <div class="col-md-4">
            <div class="pagination">
                <form>
                    <input type="hidden" name="action" id="form-paginate_by-action" value="">
                      <button type="submit" onclick="document.getElementById('form-paginate_by-action').value='add_paginate_by'" class="btn-light" title="Increase number per page"><span class="glyphicon glyphicon-arrow-down"/></button>
                      <button type="submit" onclick="document.getElementById('form-paginate_by-action').value='sub_paginate_by'" class="btn-light" title="Decrease number per page"><span class="glyphicon glyphicon-arrow-up"/></button>
                    </input>
                </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
{% block side_page %}
  {% if do_simple_file_upload %}
    <h2>Simple File upload</h2>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {{ simple_upload_form.as_div }}
        <input id="simple_submit" type="submit" value="Upload" />
    </form>
  {% endif %}
{% endblock %}
