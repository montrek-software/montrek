from django.urls import reverse
from baseclasses.dataclasses.view_classes import TabElement
from baseclasses.pages import MontrekDetailsPage, MontrekPage
from code_generation.tests.data.output.repositories.company_repositories import CompanyRepository


class CompanyPage(MontrekPage):
    page_title = "Company"

    def get_tabs(self):
        return (
            TabElement(
                name="Company",
                link=reverse("company_list"),
                html_id="tab_company_list",
                active="active",
            ),
        )


class CompanyDetailsPage(MontrekDetailsPage):
    repository_class = CompanyRepository
    title_field = "hub_entity_id"

    def get_tabs(self):
        return (
            TabElement(
                name="Company",
                link=reverse("company_details", args=[self.obj.id]),
                html_id="tab_company_details",
                active="active",
            ),
            TabElement(
                name="History",
                link=reverse("company_history", args=[self.obj.id]),
                html_id="tab_company_history",
            ),
        )
